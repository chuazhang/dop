// javascript for decoding and displaying XML to mxGraph graph
function Asynchronously_Decode_And_Display_Xml_To_Mxgraph_Graph(graph) 
	{	
        data_part_1='<mxGraphModel><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="43" y="547" width="80" height="80" as="geometry"/></mxCell><mxCell id="3" value="CPF" style="shape=image;image=static/images/map_page/toolbar_images/CPF.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="460" y="70" width="80" height="80" as="geometry"/></mxCell><mxCell id="4" value="Hub" style="shape=image;image=static/images/map_page/toolbar_images/Hub.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="333" y="420" width="80" height="80" as="geometry"/></mxCell><mxCell id="5" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="520" y="601.5" width="80" height="80" as="geometry"/></mxCell><mxCell id="6" value="Hub" style="shape=image;image=static/images/map_page/toolbar_images/Hub.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="812.5" y="-38" width="80" height="80" as="geometry"/></mxCell><mxCell id="7" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="1052.5" y="-175" width="80" height="80" as="geometry"/></mxCell><mxCell id="8" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="1085" y="75" width="80" height="80" as="geometry"/></mxCell><mxCell id="9" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="3" target="4"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="469.4009958543565" y="296.9383613528665"/></Array></mxGeometry></mxCell><mxCell id="10" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="4" target="2"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="242.0402572978835" y="555.5604300502852"/></Array></mxGeometry></mxCell><mxCell id="11" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="4" target="5"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="490.87663820090313" y="525.6346757930089"/></Array></mxGeometry></mxCell><mxCell id="12" value="Hub" style="shape=image;image=static/images/map_page/toolbar_images/Hub.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="20" y="-150" width="80" height="80" as="geometry"/></mxCell><mxCell id="13" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="5" y="57.5" width="80" height="80" as="geometry"/></mxCell><mxCell id="14" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="3" target="13"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="271.53882418885104" y="138.73679952582205"/></Array></mxGeometry></mxCell><mxCell id="15" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="3" target="12"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="264.3475241575015" y="31.304951684997057"/></Array></mxGeometry></mxCell><mxCell id="16" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="-160" y="-240" width="80" height="80" as="geometry"/></mxCell><mxCell id="17" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="-310" y="-80" width="80" height="80" as="geometry"/></mxCell><mxCell id="18" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="12" target="17"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-97.73735270757278" y="-40.76180562141456"/></Array></mxGeometry></mxCell><mxCell id="19" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="12" target="16"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-45.652475842498525" y="-123.69504831500295"/></Array></mxGeometry></mxCell>'
        data_part_2='<mxCell id="20" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="3" target="6"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="665.9970292712992" y="22.53544276049054"/></Array></mxGeometry></mxCell><mxCell id="21" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="6" target="7"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="955.1487782723559" y="-96.89630083674874"/></Array></mxGeometry></mxCell><mxCell id="22" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="6" target="8"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="1002.1567604039776" y="26.169537963859263"/></Array></mxGeometry></mxCell><mxCell id="23" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="735.5" y="207.5" width="80" height="80" as="geometry"/></mxCell><mxCell id="24" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="3" target="23"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="25" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="23" target="6"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="26" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="6" target="3"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="686.5029707287007" y="89.46455723950946"/></Array></mxGeometry></mxCell><mxCell id="27" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="8" target="6"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="975.3432395960224" y="90.83046203614074"/></Array></mxGeometry></mxCell><mxCell id="28" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="7" target="6"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="989.8512217276441" y="-36.10369916325126"/></Array></mxGeometry></mxCell><mxCell id="29" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="4" target="3"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="403.5990041456435" y="273.06163864713346"/></Array></mxGeometry></mxCell><mxCell id="30" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="2" target="4"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="213.95974270211647" y="491.43956994971484"/></Array></mxGeometry></mxCell><mxCell id="31" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="5" target="4"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="442.1233617990969" y="575.8653242069911"/></Array></mxGeometry></mxCell>'
        data_part_3='<mxCell id="32" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="-260" y="240" width="80" height="80" as="geometry"/></mxCell><mxCell id="33" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="32" target="3"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="34" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="12" target="32"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="35" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="17" target="12"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-112.26264729242722" y="-109.23819437858543"/></Array></mxGeometry></mxCell><mxCell id="36" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="16" target="12"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-14.347524157501471" y="-186.30495168499706"/></Array></mxGeometry></mxCell><mxCell id="37" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="13" target="3"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="273.46117581114896" y="68.76320047417795"/></Array></mxGeometry></mxCell><mxCell id="38" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="12" target="3"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="295.6524758424985" y="-31.304951684997057"/></Array></mxGeometry></mxCell><mxCell id="39" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="190" y="-450" width="80" height="80" as="geometry"/></mxCell><mxCell id="40" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="12" target="39"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="114.54922349529858" y="-277.2554400193308"/></Array></mxGeometry></mxCell><mxCell id="41" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="39" target="12"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="175.45077650470142" y="-242.74455998066918"/></Array></mxGeometry></mxCell><mxCell id="42" value="Hub" style="shape=image;image=static/images/map_page/toolbar_images/Hub.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="750" y="380" width="80" height="80" as="geometry"/></mxCell><mxCell id="43" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="1040" y="440" width="80" height="80" as="geometry"/></mxCell><mxCell id="44" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="3" target="42"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="670.5594994731614" y="241.08950049284906"/></Array></mxGeometry></mxCell><mxCell id="45" value="Steam" style="strokeColor=#4BACC6;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="42" target="43"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="942.0911961412584" y="415.72588531725137"/></Array></mxGeometry></mxCell><mxCell id="46" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="43" target="42"><mxGeometry relative="1" as="geometry"><mxPoint x="1011.5" y="469.6240925947558" as="sourcePoint"/><mxPoint x="801.5000000000001" y="427.1424979071195" as="targetPoint"/><Array as="points"><mxPoint x="927.9088038587417" y="484.2741146827486"/></Array></mxGeometry></mxCell><mxCell id="47" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="42" target="3"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="619.4405005268387" y="288.9104995071509"/></Array></mxGeometry></mxCell><mxCell id="48" value="Pad" style="shape=image;image=static/images/map_page/toolbar_images/Pad.svg;verticalLabelPosition=bottom;verticalAlign=top;fontFamily=Tahoma;" vertex="1" parent="1"><mxGeometry x="550" y="-300" width="80" height="80" as="geometry"/></mxCell><mxCell id="49" value="Emulsion" style="strokeColor=#9DBB61;labelBackgroundColor=#FFFFFF;fontFamily=Tahoma;strokeWidth=3;" edge="1" parent="1" source="48" target="6"><mxGeometry relative="1" as="geometry"/></mxCell></root></mxGraphModel>'
		document.getElementById('hamburger_business_load_base_case_button').addEventListener("click", function() 
		{
			var selected_base_case = this.value;
			//alert(selected_base_case);
			data=data_part_1+data_part_2+data_part_3; //xml data, will be database object later 
			
			// decoding is done here
			//... ..- -. -.-. --- .-. / .--. .-. --- .--. . .-. - -.--//
			var xmlDoc = mxUtils.parseXml(data);
			var codec = new mxCodec(xmlDoc);
			codec.decode(xmlDoc.documentElement, graph.getModel());
			//alert_msg="Base case for " + selected_base_case+ " has been loaded!";
			//alert(alert_msg);
			
			// This will update the database with the loaded graph
			update_database_asynchronously_with_latest_map_xml(graph=graph);	
		});
	};
		